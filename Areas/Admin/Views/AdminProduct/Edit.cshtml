@model AppleStore.Product

@{
    ViewData["Title"] = "Thêm mới Sản Phẩm";
}

<h5 class="card-title fw-semibold mb-4 d-inline-block">THÊM SẢN PHẨM</h5>
<form asp-action="Edit" method="post" enctype="multipart/form-data">
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
    <div class="mb-3">
        <label class="form-label" asp-for="Name"></label>
        <input type="text" class="form-control" asp-for="Name" required />
    </div>
    <div class="mb-3">
        <label class="form-label" asp-for="Category"></label>
        <select asp-for="CategoryId" asp-items="@ViewBag.Categories" class="form-control" required>
            <option disabled selected>- Select Category -</option>
        </select>
    </div>
    <div class="mb-3">
        <label class="form-label" asp-for="Avatar"></label>
        <input type="file" class="form-control" asp-for="Avatar" id="imageInput" required />
        <br />
        <div>
            <img src="@Model.Avatar" style="max-width:150px" alt="ProductImage" id="previewImage" />
        </div>
    </div>
    <div class="form-check form-switch mb-3">
        <input class="form-check-input" type="checkbox" asp-for="Display" />
        <label class="form-check-label" asp-for="Display"></label>
    </div>

    <button type="submit" class="btn btn-primary">Sửa</button>
</form>

<script>
    document.getElementById("imageInput").addEventListener("change", function (event) {
        var output = document.getElementById("previewImage");
        if (this.files && this.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                output.src = e.target.result;
                outpt.style.display = "block";
            };
            reader.readAsDataURL(this.files[0]);
        }
    });
</script>